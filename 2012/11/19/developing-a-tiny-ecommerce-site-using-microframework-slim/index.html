<!DOCTYPE html>



<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8" />

  <!-- Set the viewport width to device width for mobile -->
  <meta name="viewport" content="width=device-width" />
  <link rel="openid.server" href="http://openid.yubico.com/server.php" />
  <link rel="openid.delegate" href="http://openid.yubico.com/server.php/idpage?user=vvbdkthjbecc" />

   <title>Developing a tiny ecommerce site using microframework Slim</title>
   <meta name="author" content="Bèr ‘berkes’ Kessels" />
   <link href="http://feeds.feedburner.com/berkes" rel="alternate" title="Developing a tiny ecommerce site using microframework Slim Feed" type="application/atom+xml" />
   <link rel="author" href="/humans.txt" type="text/plain" />
   <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
   <!-- Included CSS Files -->
   <link rel="stylesheet" href="/assets//stylesheets/foundation.css">
   <link rel="stylesheet" href="/assets//stylesheets/pygments.css">
   <link rel="stylesheet" href="/assets//stylesheets/app.css">

   <!--[if lt IE 9]>
   <link rel="stylesheet" href="/assets//stylesheets/ie.css">
   <![endif]-->

   <script src="/assets//javascripts/modernizr.foundation.js"></script>

   <!-- IE Fix for HTML5 Tags -->
   <!--[if lt IE 9]>
     <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
   <![endif]-->

   <!-- Fonts -->
   <link href='http://fonts.googleapis.com/css?family=Arvo:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
   <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=OFL+Sorts+Mill+Goudy+TT" media="screen, projection, print">
</head>
<body>
	<!-- container -->
	<div class="container">
    <header>
      <div class="row">
        <a href="/" title="Home">
          <img src="/assets//images/logo.png" alt="Logo" title="Bèr ‘berkes’ Kessels" />
        </a>
      </div>

      <nav id="main" class="row">
        <div class="onion">
        <ul>
          <li>
          <a href="/about.html">EN / About</a>
          </li>
          <li>
          <a href="/archive.html">EN / Articles</a>
          </li>
          <li>
          <a href="/over.html">NL / Over</a>
          </li>
          <li>
          <a href="/archief.html">NL / Artikelen</a>
          </li>
        </ul>
        </div>
      </nav>
    </header>
    <section id="main-content" class="row">
      <article>
  <header>
    <h1>Developing a tiny ecommerce site using microframework Slim</h1>
  </header> 
  <div class="body row">
    <div class="eight columns">
      <p>Last elections, I stepped forward as a volunteer for the <a href="http://www.piratenpartij.nl/">Dutch
Pirateparty</a>.</p>

<p>They were struggling with Drupal, and the most pressing issue was
getting a webshop going, using the Dutch Payment system iDeal, to take care of <a href="https://lidworden.piratenpartij.nl/">new member subscriptions</a>.</p>

<p>I had quite some experience with Drupal e-commerce, and the default Dutch payment-method <a href="http://groups.drupal.org/node/16772">iDeal</a>, in Drupal. Yet decided to build something from scratch instead, here is a short
introduction, some reasoning and then how I build the shop.</p>

<h2>Reasoning</h2>

<h3>Managing the Drupalproject was hard as it was.</h3>

<p>Three people were already working, around the clock, at that time, to get the
Drupalsite running and bug-free: theming, organic-groups-integration and
LDAP-integration (centralising the login), amongst the daily "we need
this and that page, if possible, ready before yesterday).</p>

<p>Adding a fourth track, integrating e-commerce, was just too much juggling and managing. And
granting access to their codebase and server for just about everyone who wanted to
help was not an option; so all commits would have to go via already
overloaded other volunteers.</p>

<p>Making, and deploying this as standalone application, was a good option.</p>

<h3>Drupals' (complete) lack of decent E-commerce options.</h3>

<p>Yes, there is Commerce now. But in Juli, when all this was happening, it
was simply not ready, for example, there was no stable iDeal payment and
building one (against a still not stable payment-layer) was just too
much work. But even now, I have great doubts about Commerces' set-up,
architectures and concepts. Too much layers, too much in-browser
configuration and overly complicated juggling of several tens of
modules. I guess that is partly my aversion against this overly
complicated drupal-configuring-by-clicking-together stuff, but it might
also be because Drupal, as a CMS, will simply never have the focus and
targeted development that any of the bazillion e-commerce alternatives
have.</p>

<p>And Übercart has actually never been a serious option to me.</p>

<p>Integrating and developing the iDeal part for payment-module, was going to be much more work then building from scratch anyway.</p>

<h3>Easy for new volunteers.</h3>

<p>Drupal is becoming harder and harder to jump into and start developing, with each release;
this site was Drupal 7 and I found that a lot of volunteers had trouble
solving trivial issues in this Drupalsite. I am not talking about
installing the eighty-fifth module, or configuring another view and
entity. I am talking theming, bugfixing and module-development.</p>

<p>One of the things I did was helping with many such trivial issues like
organising the menu's, side blocks, organic-groups setup and so on. There
already was a shortage of people who knew enough of Drupal to help.
There was no shortage of people who knew some CSS and HTML, though, yet
getting them up-to-speed to employ these skills in Drupal theming and
configuration proved too much work. I learned (again) how hard and
difficult Drupal is, even for experienced (web)developers.</p>

<p>Also, the concept of this "become a member" thing was very much
unstable: no one knew exactly what was needed, required and such. If you
asked four people about what was required, you'd get four different (and
even contradicting) answers. So I decided we needed the most agile
system possible. Something that could have a new release several times a
day, something that anyone with basic webdevelopment-skills could help
fix or improve.</p>

<h2>Slim</h2>

<p>Hence <strong>PHP</strong>, hence <a href="http://www.slimframework.com/"><strong>Slim</strong></a>, and managed and deployed with <a href="http://berk.es/2012/08/03/git-deploy-or-how-i-learned-to-stop-worrying-and-love-deployment/"><strong>git
deploy</strong></a>.</p>

<h3>Requirements, documentation and functional designs (wireframes)</h3>

<p>Before I started coding I wrote down some guidelines made a few
<a href="https://github.com/piratenpartij/lidworden/blob/doc/lidworden.markdown">mockups</a> and created the most basic requirement-doc possible.</p>

<h3>The set-up</h3>

<p>The <a href="https://github.com/piratenpartij/lidworden">code</a> consists of a few
directories and a very few files.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nx">├</span> <span class="nx">Slim</span>        <span class="c1"># Contains the Slim Framework Library (classes)</span>
<span class="nx">├</span> <span class="nx">templates</span>   <span class="c1"># Contains snippets and PHP-files to render the actual HTML</span>
<span class="nx">├</span> <span class="nx">config</span><span class="o">.</span><span class="nx">inc</span>  <span class="c1"># A few settings and globals</span>
<span class="nx">├</span> <span class="nx">ideal</span><span class="o">.</span><span class="nx">inc</span>   <span class="c1"># Class/lib to handle the payment processor</span>
<span class="nx">├</span> <span class="nx">index</span><span class="o">.</span><span class="nx">php</span>   <span class="c1"># The actual application</span>
<span class="nx">└</span> <span class="nx">secrets</span><span class="o">.</span><span class="nx">inc</span> <span class="c1"># file which is excluded from the public git and from the docroot.</span></code></pre></div>


<h3>Template</h3>

<p>The template was generated from the existing Drupalsite, by saving the page with Firefox (wget will not save CSS and such), parsing that trough <code>tidy</code>, and then manually clean up the rest of the HTML.</p>

<p>This turned out to be, by far, the most work and resulted in two extra
directories "CSS" and "JS". The biggest problem was Drupal's extremely
convoluted HTML, with nested divs twenty(levels) deep at some points.</p>

<p>In the end we learned that making the HTML, CSS and JavaScript from
scratch would not only have saved us many hours, it would have left us
with a far easier to maintain application.</p>

<p>The initial idea to keep as close to Drupal's output as possible. Since that would
allow us to transfer changes in design to this subsite too, was not
practical.</p>

<h3>The application</h3>

<p>The entire application <a href="https://github.com/piratenpartij/lidworden/blob/develop/index.php">lives in index.php</a>.</p>

<p>In a Slim application, you set up routes that react to a HTTP-request,
do stuff, and then return other stuff. Like so</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$app</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;_head.inc&#39;</span><span class="p">);</span>
  <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span>
    <span class="s1">&#39;landing.php&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;default_amount&#39;</span> <span class="o">=&gt;</span> <span class="nx">DEFAULT_AMOUNT</span><span class="p">,</span>
      <span class="s1">&#39;actions&#39;</span> <span class="o">=&gt;</span> <span class="nx">get_actions</span><span class="p">(),</span>
    <span class="p">)</span>
  <span class="p">);</span>
  <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;_footer.inc&#39;</span><span class="p">);</span>
  <span class="p">});</span></code></pre></div>


<p>This is a PHP5 syntax, where you can create
The above does the following:</p>

<ol>
<li>register a path, "/" with the HTTP-verb GET.</li>
<li>Add an anonymous function to that; which will be executed when "/" is
requested. PHP5 supports <a href="http://www.php.net/manual/en/functions.anonymous.php">anonymous functions, closures</a>.</li>
<li>When the function is executed, we call <code>render</code> to tell what files under "/templates/" to render. We do this for <code>head.inc</code> and <code>footer.inc</code>.</li>
<li>The template <code>landing.php</code> is rendered, but gets two variables passed along, which can then be <a href="https://github.com/piratenpartij/lidworden/blob/develop/templates/landing.php">printed in landing.php</a>. Note the "Bug" where we don't actually print the actions? This part has been rewritten so often that things got messed up a little.</li>
</ol>


<p>This is all code needed to create a <a href="https://lidworden.piratenpartij.nl">page, with a form</a>.</p>

<p>When you post this form, a slightly more complex function is called, the
simplified version of that is:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;/pirate&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$app</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$pirate</span> <span class="o">=</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">params</span><span class="p">();</span>
  <span class="c1">//... more preparing of the $pirate that will be stored in the database</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">valid</span><span class="p">(</span><span class="nv">$app</span><span class="p">,</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="k">FALSE</span><span class="p">,</span> <span class="s1">&#39;/.+@.+\..+/&#39;</span><span class="p">,</span> <span class="s1">&#39;E-mailadres is niet correct&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="c1">//...Lots of other validations of all the fields.</span>
    <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">redirect</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nv">$pirate</span> <span class="o">=</span> <span class="nx">write_pirate</span><span class="p">(</span><span class="nv">$pirate</span><span class="p">);</span>
  <span class="nx">write_mail</span><span class="p">(</span><span class="nv">$pirate</span><span class="p">);</span>

  <span class="nv">$ideal</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Ideal</span><span class="p">(</span><span class="nx">MERCHANT_ID</span><span class="p">,</span> <span class="nx">SUB_ID</span><span class="p">,</span> <span class="nx">HASH_KEY</span><span class="p">,</span> <span class="nx">AQUIRER_URL</span><span class="p">);</span>
  <span class="c1">//... Preparing a hidden form for payment</span>

  <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;_head.inc&#39;</span><span class="p">);</span>
  <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span>
    <span class="s1">&#39;pirate.php&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(</span>
      <span class="s1">&#39;hidden_form&#39;</span> <span class="o">=&gt;</span> <span class="nv">$ideal</span><span class="o">-&gt;</span><span class="na">hidden_form</span><span class="p">(),</span>
      <span class="s1">&#39;url&#39;</span> <span class="o">=&gt;</span> <span class="nv">$ideal</span><span class="o">-&gt;</span><span class="na">aquirer_url</span><span class="p">,</span>
    <span class="p">)</span>
  <span class="p">);</span>
  <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;_footer.inc&#39;</span><span class="p">);</span>
  <span class="p">});</span></code></pre></div>


<p>The values you posted are validated, then written to the database, and
placed in a mail.</p>

<p>A new page is then rendered, with a hidden-form which will be posted to
the payment-system.</p>

<h2>iDeal</h2>

<p>We have the simplest form of iDeal payment, iDeal lite. This is an
offsite-payment, where you simply create a form with hidden values and
POST that to the offsite payment-system. They then parse the POSTed
values and present the customer with a payment-workflow.</p>

<p>On success, the customer might return to <code>/success</code> on error, there is a
chance they end on <code>/error</code>. Because this is by no means a confirmation,
we simply render a success or error page there; but take no actions.</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/error&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$app</span><span class="p">)</span> <span class="p">{</span>
 <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;_head.inc&#39;</span><span class="p">);</span>
 <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span>
    <span class="s1">&#39;error.php&#39;</span>
  <span class="p">);</span>
  <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;_footer.inc&#39;</span><span class="p">);</span>
<span class="p">});</span></code></pre></div>


<p>Other ideal-versions have a Post-back system, where their server
confirms the payment; one of the earlier version of this application had
that, since we did not know exactly what iDeal-version we'd go with. A
confirm would be really simple to implement here:</p>

<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">&#39;/confirm&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">()</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$app</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$payment</span> <span class="o">=</span> <span class="nv">$app</span><span class="o">-&gt;</span><span class="na">request</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">params</span><span class="p">();</span>
  <span class="nv">$db</span> <span class="o">=</span> <span class="nx">get_connection</span><span class="p">();</span>
  <span class="nv">$stmt</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="s2">&quot;UPDATE pirates SET status = :status WHERE id =</span>
<span class="s2">  :id&quot;</span><span class="p">);</span>
  <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">bindParam</span><span class="p">(</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="nv">$payment</span><span class="p">[</span><span class="s2">&quot;paymentStatus&quot;</span><span class="p">]);</span>
  <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">bindParam</span><span class="p">(</span><span class="s2">&quot;pirate_id&quot;</span><span class="p">,</span> <span class="nv">$payment</span><span class="p">[</span><span class="s2">&quot;purchaseID&quot;</span><span class="p">]);</span>
  <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>
<span class="p">});</span></code></pre></div>


<p>Obviously, in reality you'd probably need to parse the $payment to
extract the correct information (the status and the user whose payment
it was) from there. But again: you can see how extremely simple it is to implement.</p>

<h2>Deploying</h2>

<p>Since everything is stored in code, we can deploy really simple, using a
git-push. Everyone with write access to the codebase can push changes
there.</p>

<p>This allows for really fast rolling releases. Unfortunately, this breaks
when someone hacks the code online. And with so many people, under such
large pressure, that will happen. So all the time saved by having
deployments under our fingertips with git, was undone by merging in
changes that were not pushed correctly.</p>

<p>The solution to this is to make it easier and simpler to deploy The
Right Way, then to hack something on a live server. (And not, as some
might say, to make it harder to do the wrong thing; like removing Vim on
the server or disallowing access to the files on the server).</p>

<p>I assumed git-deploy would be this easy, but apparently people under
stress grabbed The Vim over SSH and hacked away on production code
anyway. Apparently the git-route was not simple enough.</p>

<h2>Conclusion</h2>

<p>Several nights of coding, about 20 hours, of which 12 hours were CSS-
and HTML-cleaning and fiddling, we made a really simple login-system.</p>

<p>The system was simple enough for others to start hacking on, in mere
minutes.</p>

<p>And its result was simple, stable and friendly enough to handle the
subscriptions of over 1100 in less then a month time.</p>

<p>Another example of what I call the "seeping trough of the complicated underlying
technology". In order to keep a project and its result clean, simple and
friendly, make sure the technology you use is simple, friendly and
clean; <a href="http://2.bp.blogspot.com/-bRoNlTFFl4k/T8BDgLJQCJI/AAAAAAAAAwI/Mc9VGyhwYXA/s1600/einstein-if-you-cant-explain-it-simply-you-dont-understand-it-well-enough.jpg">KISS</a>. Despite all the unstructured and rushed development, this application still works, is reasonable clean and can be revived and
improved in mere minutes.</p>

<p>Something I doubt would have been possible with a large stack of
e-commerce modules in Drupal; or hacked into a Magento or other shop; let
alone built with Zend, Rails or Whatever other framework.</p>

    </div>
    <div class="four columns">
      <figure class="decorative">
  <img src="/images//2012/11/19/developing-a-tiny-ecommerce-site-using-microframework-slim.png" alt="Woodcut from Doré. Purely illustrative" />
  
    <figcaption>Doré Woodcut. Its only function is to make the layout look better. And these images are really nice themselves</figcaption>
  
</figure>

    </div>
  </div>
  <footer>
    <time datetime="2012-11-19T00:00:00+01:00"
    pubdate="pubdate">
      Posted on 19 November 2012
    </time>
    in
    
    
      
      


  
    
      <a href="/tags.html#microframeworks-ref" class="black radius label">microframeworks<span class="size">2</span></a>
    
      <a href="/tags.html#slim-ref" class="black radius label">slim<span class="size">1</span></a>
    
      <a href="/tags.html#PHP-ref" class="black radius label">PHP<span class="size">1</span></a>
    
      <a href="/tags.html#iDeal-ref" class="black radius label">iDeal<span class="size">1</span></a>
    
      <a href="/tags.html#piratenpartij-ref" class="black radius label">piratenpartij<span class="size">1</span></a>
    
  



    
  </footer>
</article>

<div id="author">
  <p>
  
  
    <strong>About  the author:</strong> Bèr Kessels is an experienced webdeveloper  with a great passion for
    technology and Open Source. A golden combination to implement that technology in a good and efficient
    way. Follow <a href="https://twitter.com/berkes">@berkes</a> on Twitter. Or read more <a href="/over.html">about Bèr</a>.
  
  </p>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'berkes'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

<hr/>
<aside>
  
  
  <h1>Read on:</h1>
  
  <ul>
    
      <li><span>December 14, 2015</span> &raquo; <a href="/2015/12/14/beste-nunl-dit-vinden-wij-jammer">Beste Nu.nl. Dit vinden wij jammer.</a></li>

    
      <li><span>May  9, 2015</span> &raquo; <a href="/2015/05/09/add-sorting-to-your-product-page-in-spree">Add sorting to your product page in Spree</a></li>

    
      <li><span>February 19, 2015</span> &raquo; <a href="/2015/02/19/when-factorygirl-leads-to-bad-habits">When FactoryGirl leads to bad habits</a></li>

    
  </ul>
</aside>


    </section>

    <footer class="main row">
      <div class="contact four columns">
        <p>
            Bèr ‘berkes’ Kessels<br />
            Bèr Kessels is an Open Source Webdeveloper.<br />
            <a href='mailto:ber@berk.es'>ber@berk.es</a>
          </p>
          <p>
            <a href="http://github.com/berkes/">github.com/berkes</a><br />
            <a href="http://twitter.com/berkes/">twitter.com/berkes</a><br />
          </p>
      </div>
      <div class="four columns">
        Copyright 2001-2015
        with a
        <a href="http://creativecommons.org/licenses/by-sa/3.0/" rel="license">Creative Commons Attribute-Share-alike 3.0 Unported license</a>
      </div>
      <div class="four columns">
        <a class="extra" href="/archive.html">Archive (All English articles)</a> <br />
        <a class="extra" href="/archief.html">Archief (Alle Nederlandse artikelen)</a> <br />
        <a class="extra" href="/tags.html">Tags</a> <br />
        <a href="http://feeds.feedburner.com/berkes"> RSS </a> <br />
      </div>
    </footer>
  </div>
  <!-- Piwik -->
<script type="text/javascript">
var pkBaseURL = (("https:" == document.location.protocol) ? "https://piwik.webschuur.com/" : "http://piwik.webschuur.com/");
document.write(unescape("%3Cscript src='" + pkBaseURL + "piwik.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {
var piwikTracker = Piwik.getTracker(pkBaseURL + "piwik.php", 9);
piwikTracker.trackPageView();
piwikTracker.enableLinkTracking();
} catch( err ) {}
</script><noscript><p><img src="http://piwik.webschuur.com/piwik.php?idsite=9" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Tracking Code -->

</body>
</html>
